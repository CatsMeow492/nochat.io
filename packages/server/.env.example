# NoChat Server Environment Variables
# Copy this file to .env and update values for local development
# For production (Fly.io), use `fly secrets set KEY=VALUE`

# =============================================================================
# DATABASE
# =============================================================================
# Local development (docker-compose)
DATABASE_URL=postgres://nochat:nochat_dev_password@localhost:5432/nochat?sslmode=disable

# Production (Fly.io) - Set via `fly secrets set DATABASE_URL=...`
# DATABASE_URL=postgres://user:pass@nochat-db.flycast:5432/nochat_server?sslmode=disable

# =============================================================================
# REDIS
# =============================================================================
# Local development (docker-compose)
REDIS_URL=localhost:6379
REDIS_PASSWORD=

# Production (Fly.io Upstash Redis) - Set via `fly secrets set REDIS_URL=...`
# REDIS_URL=redis://default:xxx@fly-nochat-redis.upstash.io:6379

# =============================================================================
# S3 STORAGE (MinIO for local, AWS S3 / Cloudflare R2 for production)
# =============================================================================
# Local development (MinIO via docker-compose)
S3_ENDPOINT=localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=nochat-files
S3_REGION=us-east-1
S3_USE_SSL=false

# Production (AWS S3) - Set via fly secrets
# S3_ENDPOINT=s3.us-east-1.amazonaws.com
# S3_ACCESS_KEY=AKIAXXXXXXXX
# S3_SECRET_KEY=xxxxxxxx
# S3_BUCKET=nochat-files
# S3_REGION=us-east-1
# S3_USE_SSL=true

# Production (Cloudflare R2) - Set via fly secrets
# S3_ENDPOINT=<account-id>.r2.cloudflarestorage.com
# S3_ACCESS_KEY=xxx
# S3_SECRET_KEY=xxx
# S3_BUCKET=nochat-files
# S3_REGION=auto
# S3_USE_SSL=true

# =============================================================================
# TWILIO (for WebRTC ICE servers - TURN/STUN)
# =============================================================================
# Optional for local development (uses Google STUN servers as fallback)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=

# Production - Set via fly secrets
# TWILIO_ACCOUNT_SID=ACxxxxxxxx
# TWILIO_AUTH_TOKEN=xxxxxxxx

# =============================================================================
# SERVER
# =============================================================================
PORT=8080

# =============================================================================
# CORS (for production, specify frontend URL)
# =============================================================================
# CORS_ALLOWED_ORIGINS=https://nochat.io,https://www.nochat.io
